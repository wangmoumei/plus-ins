<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>test</title>
<style>
#box{
background:#f00;
position:relative;	
left:0;top:0;
}
</style>
<script>

window.onload = function(){
	var box = document.getElementById('box');
	var a = new fixedTop(box);
}

function fixedTop(e){
	var obj=this;
	window.addEventListener("scroll",function(){
		var st = document.documentElement.scrollTop ||document.body.scrollTop||window.pageYOffset ;
		var mt = obj.getTop(e);
		if(mt-st <0){
			e.style.position="fixed"; 
		}else{
			e.style.position="relative";
		}
	});
	this.getTop= function(e){ 
		var offset=e.offsetTop; 
			if(e.offsetParent!=null) offset+=obj.getTop(e.offsetParent); 
		return offset; 
	} 
}

</script>
</head>

<body>
<div id="showtop" style="position:fixed;right:50px;top:100px;"></div>
<p>aaaaa</p>
<p>aaaaa</p>
<p>aaaaa</p>
<p>aaaaa</p>
<p>aaaaa</p><p>aaaaa</p>
<p>aaaaa</p>
<p>aaaaa</p>
<div id="box">cccccccccccccccccccccccccccccccccc</div>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
<p>bbbbb</p>
</body>
</html>
